{
    "components": {
        "schemas": {
            "UnitAccountResponse": {
                "type": "object",
                "title": "Unit Account Response",
                "properties": {
                    "data": {
                        "$ref": "./account.json#/components/schemas/Account"
                    }
                }
            },
            "UnitAccountResponseWithIncluded": {
                "type": "object",
                "title": "Unit Account Response With Included",
                "properties": {
                    "data": {
                        "$ref": "./account.json#/components/schemas/Account"
                    },
                    "included": {
                        "type": "array",
                        "items": {
                            "$ref": "../customer/customer.json#/components/schemas/Customer"
                        }
                    }
                }
            },
            "UnitDepositAccountResponse": {
                "type": "object",
                "title": "Unit Deposit Account Response",
                "properties": {
                    "data": {
                        "$ref": "./account.json#/components/schemas/DepositAccount"
                    }
                }
            }
        }
    },
    "accounts": {
        "get": {
            "tags": ["unit"],
            "operationId": "getAccountsList",
            "summary": "Get List Accounts",
            "description": "Get List Accounts from API ",
            "parameters": [
                {
                    "$ref": "../types.json#/components/schemas/PageQuery"
                },
                {
                    "name": "filter",
                    "in": "query",
                    "style": "deepObject",
                    "allowReserved": true,
                    "schema": {
                        "type": "object",
                        "properties": {
                            "customerId": {
                                "type": "string"
                            },
                            "status": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": ["Open", "Frozen", "Closed"]
                                }
                            },
                            "type": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": ["deposit", "credit"]
                                }
                            },
                            "fromBalance": {
                                "type": "number"
                            },
                            "toBalance": {
                                "type": "number"
                            },
                            "tags": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                },
                {
                    "name": "include",
                    "in": "query",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "title": "Unit Accounts List Response",
                                "type": "object",
                                "properties": {
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "$ref": "./account.json#/components/schemas/Account"
                                        }
                                    },
                                    "included": {
                                        "type": "array",
                                        "items": {
                                            "$ref": "../customer/customer.json#/components/schemas/Customer"
                                        }
                                    },
                                    "meta": {
                                        "$ref": "../types.json#/components/schemas/PaginationMeta"
                                    }
                                }
                            }
                        }
                    }
                },
                "401": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        },
        "post": {
            "tags": ["unit"],
            "operationId": "createAccount",
            "summary": "Create Deposit Account",
            "description": "Creates a deposit account for a Customer (or customers). An account.created event is raised when the call was successful. Each deposit account is created using a specific deposit product. A deposit product is a predefined set of terms associated with this deposit account (e.g. interest rate, spending limits). Use **checking** as the default value for the deposit product field while building your solution in sandbox. Contact Unit to create other deposit products under your organization. Deposit Account creation request supports Idempotency, ensuring that performing multiple identical requests will have the same effect as performing a single request. A successful account creation will result in an account in Open status. Later on, accounts can be either frozen, closed and in some cases reopened.",
            "requestBody": {
                "description": "Create Account Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "$ref": "./createAccount.json#/components/schemas/CreateAccountRequest"
                        }
                    }
                }
            },
            "responses": {
                "201": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "account": {
        "get": {
            "tags": ["unit"],
            "operationId": "getAccount",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to get"
                },
                {
                    "name": "include",
                    "in": "query",
                    "schema": {
                        "type": "string"
                    }
                }
            ],
            "summary": "Get Account by Id",
            "description": "Get an Account from API ",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponseWithIncluded"
                            }
                        }
                    }
                }
            }
        },
        "patch": {
            "tags": ["unit"],
            "operationId": "updateAccount",
            "summary": "Update Account",
            "description": "Update an Account via API ",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to update"
                }
            ],
            "requestBody": {
                "description": "Update Account Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "$ref": "./patchAccount.json#/components/schemas/UpdateAccountRequest"
                        }
                    }
                }
            },
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "getAccountLimits": {
        "get": {
            "tags": ["unit"],
            "operationId": "getAccountLimits",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to get"
                }
            ],
            "summary": "Get Account Limits by Id",
            "description": "Get Account Limits from API ",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "type": "object",
                                "title": "Unit Get Account Limits Response",
                                "properties": {
                                    "data": {
                                        "$ref": "./limits.json#/components/schemas/Limits"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "unfreezeAccount": {
        "post": {
            "tags": ["unit"],
            "operationId": "unfreezeAccount",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to unfreeze"
                }
            ],
            "summary": "Unfreeze Account by Id",
            "description": "Unfreezes a previously frozen account. An account.unfrozen event is raised when the call is successful.",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "freezeAccount": {
        "post": {
            "tags": ["unit"],
            "operationId": "freezeAccount",
            "summary": "Freeze Account by Id",
            "description": "Freezes an account. Freezing an account prevents users from performing many operations while preserving all the account data. An account.frozen event is raised when the call is successful.",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to freeze"
                }
            ],
            "requestBody": {
                "description": "Freeze Account Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "$ref": "./closeAccount.json#/components/schemas/FreezeAccountRequest"
                        }
                    }
                }
            },
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "closeAccount": {
        "post": {
            "tags": ["unit"],
            "operationId": "closeAccount",
            "summary": "Close an Account by Id",
            "description": "Closes an account. Closing an account is irreversible and can only be done by an Org user. An account.closed event is raised when the call was successful.\n\nNote that closing an account will also close the cards associated with the account.\n\nWhen closing an account with a balance of $1 or less, the funds will automatically be transferred to your organization's revenue account (see more at Account Low Balance Closure). When closing an account with a balance greater than $1, a check will be mailed to the business or individual address on file.\n\nWhen closing an account with a negative balance, the balance will be considered a loss, and will be covered from your reserve account",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to close"
                }
            ],
            "requestBody": {
                "description": "Close Account Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "$ref": "./closeAccount.json#/components/schemas/CloseAccountRequest"
                        }
                    }
                }
            },
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "reopenAccount": {
        "post": {
            "tags": ["unit"],
            "operationId": "reopenAccount",
            "summary": "Reopen an Account by Id",
            "description": "Reopens a previously closed account. An account.reopened event is raised when the call was successful.",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to reopen"
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "enterDaca": {
        "post": {
            "tags": ["unit"],
            "operationId": "enterControlAgreementForAccount",
            "summary": "Enter Account Control Agreement by Id",
            "description": "Enter Control Agreement for Account via API ",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account"
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "activateDaca": {
        "post": {
            "tags": ["unit"],
            "operationId": "activateControlAgreementForAccount",
            "summary": "Activate Account Control Agreement by Id",
            "description": "Activate Control Agreement for Account via API ",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account"
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "deactivateDaca": {
        "post": {
            "tags": ["unit"],
            "operationId": "deactivateControlAgreementForAccount",
            "summary": "Deactivate Account Control Agreement by Id",
            "description": "Deactivate Control Agreement for Account via API",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account"
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitAccountResponse"
                            }
                        }
                    }
                },
                "404": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "getAccountBalanceHistory": {
        "get": {
            "tags": ["unit"],
            "operationId": "getAccountBalanceHistory",
            "summary": "Get Account Balance History",
            "description": "List account end-of-day balances history (filtering and paging can be applied). The account balance history can be used to provide the customer with an overview of their balance across account(s) over time in a visually engaging way, providing insights and creating custom product features around it.",
            "parameters": [
                {
                    "$ref": "../types.json#/components/schemas/PageQuery"
                },
                {
                    "name": "filter",
                    "in": "query",
                    "style": "deepObject",
                    "allowReserved": true,
                    "schema": {
                        "type": "object",
                        "properties": {
                            "customerId": {
                                "type": "string",
                                "description": "Optional. Filters the results by the specified customer id. At least one of accountId and customerId is required."
                            },
                            "accountId": {
                                "type": "string",
                                "description": "Optional. Filters the results by the specified account id. At least one of accountId and customerId is required."
                            },
                            "since": {
                                "type": "string",
                                "format": "date",
                                "description": "Optional. Filters the account end-of-day balances after the specified date. e.g. 2021-06-01"
                            },
                            "until": {
                                "type": "string",
                                "format": "date",
                                "description": "Optional. Filters the account end-of-day balances before the specified date. e.g. 2021-07-01"
                            }
                        }
                    }
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "type": "object",
                                "title": "Unit Account Balance History Response",
                                "properties": {
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "$ref": "./accountEndOfDay.json#/components/schemas/AccountEndOfDay"
                                        }
                                    },
                                    "meta": {
                                        "$ref": "../types.json#/components/schemas/PaginationMeta"
                                    }
                                }
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "repaymentInfo": {
        "get": {
            "tags": ["unit"],
            "operationId": "getRepaymentInformation",
            "summary": "Get Repayment Information",
            "description": "Retrieve the repayment information for a specific account via API",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to get repayment information for"
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "./repaymentInformation.json#/components/schemas/UnitRepaymentInformationResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "depositProducts": {
        "get": {
            "tags": ["unit"],
            "operationId": "getDepositProductsList",
            "summary": "Get Available Deposit Products",
            "description": "List of available deposit products compatible to the account.",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to get deposit products for"
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "./depositProduct.json#/components/schemas/UnitDepositProductsResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    },
    "customers": {
        "post": {
            "tags": ["unit"],
            "operationId": "addAccountOwners",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to add owners to"
                }
            ],
            "summary": "Add Owners to Account by Id",
            "description": "Add owner or owners to an existing deposit account.",
            "requestBody": {
                "description": "Add Account Owners Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "$ref": "./owners.json#/components/schemas/AddAccountOwnersRequest"
                        }
                    }
                }
            },
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitDepositAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        },
        "delete": {
            "tags": ["unit"],
            "operationId": "removeAccountOwners",
            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "accountId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the account to remove owners from"
                }
            ],
            "summary": "Remove Owners from Account by Id",
            "description": "Remove owner or owners from an existing joint deposit account.\n\nNote: At least one of the owners after deletion must be over 18 years old.\n\nNote: All cards related to the removed owners will be closed.",
            "requestBody": {
                "description": "Remove Account Owners Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "$ref": "./owners.json#/components/schemas/RemoveAccountOwnersRequest"
                        }
                    }
                }
            },
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitDepositAccountResponse"
                            }
                        }
                    }
                },
                "default": {
                    "$ref": "../types.json#/components/schemas/DefaultError"
                }
            }
        }
    }
}
