{
    "components": {
        "schemas": {
            "UnitCheckPaymentResponse": {
                "type": "object",
                "title": "Unit Check Payment Response",
                "properties": {
                    "data": {
                        "$ref": "./checkPayment.json#/components/schemas/CheckPayment"
                    }
                }
            }
        }
    },
    "checkPayments": {
        "get": {
            "tags": ["unit"],
            "operationId": "getCheckPaymentsList",
            "summary": "List Check Payments",
            "description": "Lists all check payments with optional filters for account, customer, status, and more.",
            "parameters": [
                {
                    "$ref": "../types.json#/components/schemas/PageQuery"
                },
                {
                    "name": "filter",
                    "in": "query",
                    "schema": {
                        "type": "object",
                        "properties": {
                            "accountId": {
                                "type": "string",
                                "description": "Filter check payments by account ID"
                            },
                            "customerId": {
                                "type": "string",
                                "description": "Filter check payments by customer ID"
                            },
                            "status": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": [
                                        "New",
                                        "Rejected",
                                        "Pending",
                                        "Canceled",
                                        "PendingCancellation",
                                        "InProduction",
                                        "InDelivery",
                                        "Delivered",
                                        "ReturnedToSender",
                                        "PendingReview",
                                        "Processed",
                                        "MarkedForReturn",
                                        "Returned"
                                    ]
                                },
                                "description": "Filter check payments by status"
                            },
                            "tags": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string"
                                },
                                "description": "Filter check payments by tags"
                            },
                            "since": {
                                "type": "string",
                                "description": "Filter check payments created since this date"
                            },
                            "until": {
                                "type": "string",
                                "description": "Filter check payments created until this date"
                            },
                            "fromAmount": {
                                "type": "integer",
                                "format": "int64",
                                "description": "Filter check payments by minimum amount"
                            },
                            "toAmount": {
                                "type": "integer",
                                "format": "int64",
                                "description": "Filter check payments by maximum amount"
                            },
                            "checkNumber": {
                                "type": "string",
                                "description": "Filter Check Payments by check number (trimming leading zeros)"
                            }
                        }
                    }
                },
                {
                    "name": "sort",
                    "in": "query",
                    "schema": {
                        "type": "string"
                    },
                    "description": "Sort the results by a specific field"
                },
                {
                    "name": "include",
                    "in": "query",
                    "schema": {
                        "type": "string"
                    },
                    "description": "A comma-separated list of related resources to include in the response. Related resources include: customer, account, transaction. See https://www.unit.co/docs/api/about-jsonapi/#intro-getting-related-resources"
                }
            ],
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "type": "object",
                                "title": "Unit List Check Payments Response",
                                "properties": {
                                    "data": {
                                        "type": "array",
                                        "items": {
                                            "$ref": "./checkPayment.json#/components/schemas/CheckPayment"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "post": {
            "tags": ["unit"],
            "operationId": "createCheckPayment",

            "summary": "Originate Check Payment (Mail Physical Check)",
            "description": "Creates a physical check. The check will be printed and mailed to the US recipient specified in the request. Originated check payments can be set to be sent immediately or scheduled for a future date.",
            "requestBody": {
                "description": "Create Check Payment Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "$ref": "./createCheckPayment.json#/components/schemas/CreateCheckPaymentRequest"
                        }
                    }
                }
            },
            "responses": {
                "201": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitCheckPaymentResponse"
                            }
                        }
                    }
                }
            }
        }
    },
    "checkPayment": {
        "get": {
            "tags": ["unit"],
            "operationId": "getCheckPayment",

            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "checkPaymentId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the check payment to get"
                }
            ],
            "summary": "Get Check Payment by Id",
            "description": "Retrieve a specific check payment by its ID.",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitCheckPaymentResponse"
                            }
                        }
                    }
                }
            }
        }
    },
    "checkPaymentApprove": {
        "post": {
            "tags": ["unit"],
            "operationId": "approveCheckPayment",

            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "checkPaymentId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the check payment to approve"
                }
            ],
            "requestBody": {
                "description": "Approve Check Payment Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "type": "object",
                            "title": "Approve Check Payment Request",
                            "properties": {
                                "data": {
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "type": "string",
                                            "enum": ["additionalVerification"],
                                            "default": "additionalVerification"
                                        }
                                    },
                                    "required": ["type"]
                                }
                            },
                            "required": ["data"]
                        }
                    }
                }
            },
            "summary": "Approve Check Payment Additional Verification",
            "description": "Needs to be used when additionalVerificationStatus is Required in order to approve the Check Payment. Serves as an evidence that an additional verification was performed and an approval was captured from the end customer to continue processing this Check Payment.",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitCheckPaymentResponse"
                            }
                        }
                    }
                }
            }
        }
    },
    "checkPaymentReturn": {
        "post": {
            "tags": ["unit"],
            "operationId": "returnCheckPayment",

            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "checkPaymentId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the check payment to return"
                }
            ],
            "requestBody": {
                "description": "Return Check Payment Request",
                "required": true,
                "content": {
                    "application/vnd.api+json": {
                        "schema": {
                            "type": "object",
                            "title": "Return Check Payment Request",
                            "properties": {
                                "data": {
                                    "type": "object",
                                    "properties": {
                                        "type": {
                                            "type": "string",
                                            "enum": ["checkPaymentReturn"],
                                            "default": "checkPaymentReturn"
                                        },
                                        "attributes": {
                                            "type": "object",
                                            "properties": {
                                                "reason": {
                                                    "allOf": [
                                                        { "$ref": "./checkPayment.json#/components/schemas/ReturnReason" },
                                                        { "description": "The reason for returning the Check Payment. See valid reasons for Check Payment returns." }
                                                    ]
                                                }
                                            },
                                            "required": ["reason"]
                                        }
                                    },
                                    "required": ["type", "attributes"]
                                }
                            },
                            "required": ["data"]
                        }
                    }
                }
            },
            "summary": "Return Check Payment",
            "description": "Create a return as long as it happens before the returnCutoffTime, the Check Payment status will be set to MarkedForReturn. If the Check Payment was Processed, a Returned Check Payment Transaction will be created.",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitCheckPaymentResponse"
                            }
                        }
                    }
                }
            }
        }
    },
    "checkPaymentCancel": {
        "post": {
            "tags": ["unit"],
            "operationId": "cancelCheckPayment",

            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "checkPaymentId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the check payment to cancel"
                }
            ],
            "summary": "Cancel Check Payment",
            "description": "Cancels a previously processed check payment. Only check payments in status Pending can be canceled. If cancelation was successful, the check status will change to Canceled.",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "application/vnd.api+json; charset=utf-8": {
                            "schema": {
                                "$ref": "#/components/schemas/UnitCheckPaymentResponse"
                            }
                        }
                    }
                }
            }
        }
    },
    "getCheckPaymentFront": {
        "get": {
            "tags": ["unit"],
            "operationId": "getCheckPaymentFront",

            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "checkPaymentId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the check payment"
                }
            ],
            "summary": "Get front image",
            "description": "Get a check payment front image by check payment ID.",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "image/png": {
                            "schema": {
                                "type": "string",
                                "format": "binary"
                            }
                        }
                    }
                },
                "302": {
                    "description": "Redirect Found - Client should support following redirects"
                }
            }
        }
    },
    "getCheckPaymentBack": {
        "get": {
            "tags": ["unit"],
            "operationId": "getCheckPaymentBack",

            "parameters": [
                {
                    "schema": {
                        "type": "string"
                    },
                    "name": "checkPaymentId",
                    "in": "path",
                    "required": true,
                    "description": "ID of the check payment"
                }
            ],
            "summary": "Get back image",
            "description": "Get a check payment back image by check payment ID.",
            "responses": {
                "200": {
                    "description": "Successful Response",
                    "content": {
                        "image/png": {
                            "schema": {
                                "type": "string",
                                "format": "binary"
                            }
                        }
                    }
                },
                "302": {
                    "description": "Redirect Found - Client should support following redirects"
                }
            }
        }
    }
}
