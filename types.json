{
	"components": {
		"schemas": {
			"identifier": {
				"type": "string",
				"pattern": "^[1-9]\\d*$"
			},
			"email": {
				"type": "string",
				"format": "email"
			},
			"address": {
				"title": "Address",
				"type": "object",
				"properties": {
					"street": {
						"type": "string",
						"minLength": 1,
						"maxLength": 255,
						"pattern": "^.*$"
					},
					"street2": {
						"type": ["string", "null"],
						"pattern": "^.*$"
					},
					"city": {
						"type": "string",
						"minLength": 1,
						"maxLength": 255,
						"pattern": "^.*$"
					},
					"state": {
						"type": "string"
					},
					"postalCode": {
						"type": "string",
						"pattern": "^[0-9]{5}(?:-[0-9]{4})?$"
					},
					"country": {
						"type": "string",
						"const": "US"
					}
				},
				"additionalProperties": false,
				"required": ["street", "city", "postalCode", "country", "state"]
			},
			"jwtSubject": {
				"type": ["string", "null"]
			},
			"contact": {
				"title": "Contact",
				"type": "object",
				"properties": {
					"fullName": {
						"$ref": "#/components/schemas/fullName"
					},
					"email": {
						"$ref": "#/components/schemas/email"
					},
					"phone": {
						"$ref": "#/components/schemas/phone"
					},
					"jwtSubject": {
						"$ref": "#/components/schemas/jwtSubject"
					}
				},
				"additionalProperties": false
			},
			"trustContact": {
				"title": "TrustContact",
				"type": "object",
				"properties": {
					"fullName": {
						"$ref": "#/components/schemas/fullName"
					},
					"email": {
						"$ref": "#/components/schemas/email"
					},
					"phone": {
						"$ref": "#/components/schemas/phone"
					},
					"address": {
						"$ref": "#/components/schemas/address"
					},
					"jwtSubject": {
						"$ref": "#/components/schemas/jwtSubject"
					}
				},
				"additionalProperties": false
			},
			"trustee": {
				"title": "Trustee",
				"type": "object",
				"properties": {
					"fullName": {
						"$ref": "#/components/schemas/fullName"
					},
					"email": {
						"$ref": "#/components/schemas/email"
					},
					"phone": {
						"$ref": "#/components/schemas/phone"
					},
					"ssn": {
						"type": "string",
						"pattern": "^\\d{9}$"
					},
					"passport": {
						"type": "string"
					},
					"nationality": {
						"$ref": "#/components/schemas/country"
					},
					"matriculaConsular": {
						"type": "string"
					},
					"address": {
						"$ref": "#/components/schemas/address"
					},
					"dateOfBirth": {
						"type": "string",
						"format": "date"
					}
				},
				"oneOf": [
					{
						"properties": {
							"ssn": {
								"type": "string",
								"pattern": "^\\d{9}$"
							}
						},
						"required": ["ssn"]
					},
					{
						"properties": {
							"passport": {
								"type": "string"
							},
							"nationality": {
								"$ref": "#/components/schemas/country"
							}
						},
						"required": ["passport", "nationality"]
					},
					{
						"properties": {
							"matriculaConsular": {
								"type": "string"
							}
						},
						"required": ["matriculaConsular"]
					}
				],
				"additionalProperties": false,
				"required": ["fullName", "email", "phone", "address", "dateOfBirth"]
			},
			"grantor": {
				"title": "Grantor",
				"type": "object",
				"properties": {
					"fullName": {
						"$ref": "#/components/schemas/fullName"
					},
					"email": {
						"$ref": "#/components/schemas/email"
					},
					"phone": {
						"$ref": "#/components/schemas/phone"
					},
					"ssn": {
						"type": "string",
						"pattern": "^\\d{9}$"
					},
					"passport": {
						"type": "string"
					},
					"matriculaConsular": {
						"type": "string"
					},
					"nationality": {
						"$ref": "#/components/schemas/country"
					},
					"address": {
						"$ref": "#/components/schemas/address"
					},
					"dateOfBirth": {
						"type": "string",
						"format": "date"
					},
					"evaluationId": {
						"type": "string"
					},
					"evaluationFlags": {
						"type": "array",
						"items": {
							"type": "string"
						}
					},
					"status": {
						"type": "string"
					},
					"maskedSSN": {
						"type": "string",
						"pattern": "^\\*{5}\\d{4}$"
					}
				},
				"oneOf": [
					{
						"properties": {
							"ssn": {
								"type": "string",
								"pattern": "^\\d{9}$"
							}
						},
						"required": ["ssn"]
					},
					{
						"properties": {
							"passport": {
								"type": "string"
							},
							"nationality": {
								"$ref": "#/components/schemas/country"
							}
						},
						"required": ["passport", "nationality"]
					},
					{
						"properties": {
							"matriculaConsular": {
								"type": "string"
							}
						},
						"required": ["matriculaConsular"]
					}
				],
				"additionalProperties": false,
				"required": ["fullName", "email", "phone", "address", "dateOfBirth"]
			}
		}
	}
}
